{"version":3,"sources":["requests.js","apiKey.js","page/Home/Home.js","BackToTop.js","index.js"],"names":["trainAPI","originStation","destination","date","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","Authorization","getHMAC","Home","scrollTarget","useState","trainOriginInput","setTrainOriginInput","trainDestinationInput","setTrainDestinationInput","classes","useStyles","format","loading","setLoading","success","setSuccess","rawData","setRawData","outputData","setOutputData","buttonClassName","clsx","buttonSuccess","fetchData","endStation","a","reqURL","axios","get","headers","then","res","console","log","data","TrainTimetables","catch","error","useEffect","length","station","map","item","trainID","TrainInfo","TrainNo","trainTypeCode","TrainTypeCode","originStationName","StartingStationName","Zh_tw","endStationName","EndingStationName","trainType","TrainTypeName","direction","Direction","departure","StopTimes","DepartureTime","arrival","ArrivalTime","sort","first","second","localeCompare","className","home","AppBar","appBar","Toolbar","IconButton","edge","menuButton","color","aria-label","Menu","Typography","variant","title","Button","action","progressRoot","Autocomplete","autoSelect","autoComplete","autoHighlight","value","onChange","e","newValue","options","stationInfo","option","StationName","style","width","padding","renderInput","params","TextField","label","progressWrapper","Fab","onClick","alert","startStation","find","includes","StationID","Search","ArrowRightAlt","CircularProgress","size","fabProgress","undefined","TableContainer","Table","tableRoot","TableHead","id","TableRow","TableCell","tableHeadCell","align","textDiv","marginLeft","TableBody","key","tableCell","replace","KeyboardArrowUp","ScrollTop","children","window","trigger","useScrollTrigger","target","disableHysteresis","threshold","Zoom","in","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","backToTopRoot","CustomTrainIcon","props","other","Train","trainIcon","makeStyles","theme","textAlign","backgroundColor","height","overflowY","flexGrow","marginTop","marginRight","spacing","marginBottom","display","alignItems","margin","position","green","top","left","zIndex","trainInput","borderRadius","outline","fontSize","fontFamily","justifyItems","bottom","right","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.914a5055.chunk.js","sourcesContent":["const trainAPI = (originStation, destination, date) => {\n\treturn `https://ptx.transportdata.tw/MOTC/v3/Rail/TRA/DailyTrainTimetable/OD/${originStation}/to/${destination}/${date}?$format=JSON`;\n};\n\nconst busAPI = (positionLat, positionLon) => {\n\treturn `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/NearBy?$select=PlateNumb%2CStopID%2CStopName%2CRouteID%2C%20RouteName%2C%20SubRouteID%2C%20SubRouteName%2C%20Direction%2C%20EstimateTime%2C%20StopStatus%2C%20NextBusTime&$spatialFilter=nearby(${positionLat},${positionLon},500)&$format=JSON`;\n};\n\nconst taichungBus = (routeName) => {\n\treturn `https://ptx.transportdata.tw/MOTC/v2/Bus/DailyStopTimeTable/City/Taichung/${routeName}?$format=JSON`;\n};\n\nconst busOperator = (cityName) => {\n\treturn `https://ptx.transportdata.tw/MOTC/v2/Bus/Operator/City/${cityName}?$select=OperatorID%2COperatorName&$format=JSON`;\n};\n\nexport { trainAPI, busAPI, taichungBus, busOperator };\n","import jsSHA from \"jssha\";\n\nconst getAuthorizationHeader = function () {\n\tconst apiID = \"e076b2463e674e1e95cf5fd189f15b00\";\n\tconst apiKey = \"nL1Irz7_VltcPMn6JTT7VyW-yWI\";\n\n\tvar GMTString = new Date().toGMTString();\n\tvar ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\n\tShaObj.setHMACKey(apiKey, \"TEXT\");\n\tShaObj.update(\"x-date: \" + GMTString);\n\tvar HMAC = ShaObj.getHMAC(\"B64\");\n\tvar Authorization =\n\t\t'hmac username=\"' +\n\t\tapiID +\n\t\t'\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n\t\tHMAC +\n\t\t'\"';\n\n\treturn {\n\t\tAuthorization: Authorization,\n\t\t\"X-Date\": GMTString,\n\t};\n};\n\nexport default getAuthorizationHeader;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\n// files\nimport stationInfo from \"../../json/stationInfo.json\";\nimport \"./Home.css\";\n//date\nimport { format } from \"date-fns\";\n// component\n// import BusList from \"../../Components/BusList\";\n// import TrainList from \"../../Components/TrainList\";\n// train list component\nimport axios from \"axios\";\nimport { trainAPI } from \"../../requests\";\nimport getAuthorizationHeader from \"../../apiKey\";\n// material-ui\nimport {\n\tTableContainer,\n\tTable,\n\tTableHead,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tFab,\n\tmakeStyles,\n\tuseScrollTrigger,\n\tZoom,\n\tCircularProgress,\n\tAppBar,\n\tToolbar,\n\tButton,\n\tTypography,\n\tIconButton,\n} from \"@material-ui/core\";\nimport { Search, ArrowRightAlt, Train, KeyboardArrowUp, Menu } from \"@material-ui/icons\";\nimport { green } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport PropTypes from \"prop-types\";\n\nexport default function Home(scrollTarget) {\n\t// Train input\n\tconst [trainOriginInput, setTrainOriginInput] = useState(null);\n\tconst [trainDestinationInput, setTrainDestinationInput] = useState(null);\n\t// Bus input\n\t// const [city, setCity] = useState(\"\");\n\t// const [busRoute, setBusRoute] = useState(\"藍幹線\");\n\tconst classes = useStyles();\n\t// 抓取當地時間\n\tconst date = format(new Date(), \"yyyy-MM-dd\");\n\t// Progress Component\n\tconst [loading, setLoading] = useState(false);\n\tconst [success, setSuccess] = useState(true);\n\t//train list component\n\tconst [rawData, setRawData] = useState([]);\n\tconst [outputData, setOutputData] = useState();\n\tconst buttonClassName = clsx({\n\t\t[classes.buttonSuccess]: success,\n\t});\n\n\tconst fetchData = async (originStation, endStation) => {\n\t\tconst reqURL = trainAPI(originStation, endStation, date);\n\t\tawait axios\n\t\t\t.get(reqURL, {\n\t\t\t\theaders: getAuthorizationHeader(),\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"raw: \", res.data);\n\t\t\t\tsetRawData(res.data.TrainTimetables);\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t};\n\n\tconst searchBtn = () => {\n\t\tif (\n\t\t\t!loading &&\n\t\t\ttrainOriginInput !== null &&\n\t\t\ttrainDestinationInput !== null &&\n\t\t\ttrainOriginInput !== trainDestinationInput\n\t\t) {\n\t\t\t// fabProgress Component animation start\n\t\t\tsetSuccess(false);\n\t\t\tsetLoading(true);\n\t\t\t// 將車站名轉換成車站編號\n\t\t\tconst startStation = stationInfo.find((item) => trainOriginInput.includes(item.StationName.Zh_tw));\n\t\t\t// 將車站名轉換成車站編號\n\t\t\tconst endStation = stationInfo.find((item) => trainDestinationInput.includes(item.StationName.Zh_tw));\n\t\t\tfetchData(startStation.StationID, endStation.StationID);\n\t\t} else {\n\t\t\talert(\"請輸入或確認站別\");\n\t\t}\n\t};\n\n\t// input icon control\n\tuseEffect(() => {\n\t\tif (trainOriginInput !== null && trainDestinationInput !== null) {\n\t\t\tsetSuccess(true);\n\t\t} else {\n\t\t\tsetSuccess(false);\n\t\t}\n\t}, [trainDestinationInput, trainOriginInput]);\n\n\t// train list component\n\tuseEffect(() => {\n\t\tif (rawData.length !== 0) {\n\t\t\tconst station = rawData.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttrainID: item.TrainInfo.TrainNo,\n\t\t\t\t\ttrainTypeCode: item.TrainInfo.TrainTypeCode,\n\t\t\t\t\toriginStationName: item.TrainInfo.StartingStationName.Zh_tw,\n\t\t\t\t\tendStationName: item.TrainInfo.EndingStationName.Zh_tw,\n\t\t\t\t\ttrainType: item.TrainInfo.TrainTypeName.Zh_tw,\n\t\t\t\t\tdirection: item.TrainInfo.Direction,\n\t\t\t\t\tdeparture: item.StopTimes[0].DepartureTime,\n\t\t\t\t\tarrival: item.StopTimes[1].ArrivalTime,\n\t\t\t\t};\n\t\t\t});\n\t\t\tsetOutputData(\n\t\t\t\tstation.sort((first, second) => {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\tsetSuccess(false);\n\t\t\t\t\treturn first.departure.localeCompare(second.departure);\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tsetLoading(false);\n\t\t\tsetSuccess(false);\n\t\t}\n\t}, [rawData]);\n\t// console.log(\"output: \", outputData);\n\n\treturn (\n\t\t<div className={classes.home}>\n\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n\t\t\t\t\t\t<Menu />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t火車時刻表查詢\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button color=\"inherit\">Login</Button>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<div className=\"home__search\">\n\t\t\t\t<form action=\"\" className=\"home__searchInfo\">\n\t\t\t\t\t<div className={classes.progressRoot}>\n\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\tautoSelect\n\t\t\t\t\t\t\tautoComplete\n\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\tvalue={trainOriginInput}\n\t\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\t\tsetTrainOriginInput(newValue);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\toptions={stationInfo.map((option) => option.StationName.Zh_tw)}\n\t\t\t\t\t\t\tstyle={{ width: 170, padding: \"0px 25px\" }}\n\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"出發站\" variant=\"outlined\" />}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className={classes.progressWrapper}>\n\t\t\t\t\t\t\t<Fab aria-label=\"search\" color=\"primary\" className={buttonClassName} onClick={searchBtn}>\n\t\t\t\t\t\t\t\t{success ? <Search /> : <ArrowRightAlt />}\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t\t{loading && <CircularProgress size={68} className={classes.fabProgress} />}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\tautoSelect\n\t\t\t\t\t\t\tautoComplete\n\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\tvalue={trainDestinationInput}\n\t\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\t\tsetTrainDestinationInput(newValue);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\toptions={stationInfo.map((option) => option.StationName.Zh_tw)}\n\t\t\t\t\t\t\tstyle={{ width: 170, padding: \"0px 25px\" }}\n\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"終點站\" variant=\"outlined\" />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"trainList\">\n\t\t\t\t\t\t{outputData === undefined || rawData.length === 0 ? (\n\t\t\t\t\t\t\t<h3>無資料</h3>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t\t\t<Table className={classes.tableRoot}>\n\t\t\t\t\t\t\t\t\t<TableHead id=\"back-to-top-anchor\">\n\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeadCell} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.textDiv} style={{marginLeft:'15px'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t車種車次 (始發站 <ArrowRightAlt /> 終點站)\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeadCell} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t車次\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeadCell} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t出發時間\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeadCell} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t抵達時間\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeadCell} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t行駛方向\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{/* <TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t行駛時間\n\t\t\t\t\t\t\t\t\t\t\t</TableCell> */}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t{outputData.map((item) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={item.trainID}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\" className={classes.tableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.textDiv}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomTrainIcon color={item.trainTypeCode} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.trainType.replace(/\\([^()]*\\)/g, \"\")} ({item.originStationName} <ArrowRightAlt />{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.endStationName})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.trainID}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.departure}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.arrival}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.tableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.direction === 1 ? \"南下\" : \"北上\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<ScrollTop {...scrollTarget}>\n\t\t\t\t\t<Fab color=\"primary\" size=\"large\" aria-label=\"scroll back to top\">\n\t\t\t\t\t\t<KeyboardArrowUp />\n\t\t\t\t\t</Fab>\n\t\t\t\t</ScrollTop>\n\t\t\t\t{/* <div className=\"home__searchBus\">\n\t\t\t\t\t\t<h2>公車時刻表</h2> */}\n\t\t\t\t{/* select option */}\n\t\t\t\t{/* <input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"縣市\"\n\t\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"路線\"\n\t\t\t\t\t\t\tonChange={(e) => setBusRoute(e.target.value)}\n\t\t\t\t\t\t/> */}\n\t\t\t\t{/* 顯示公車時刻表單 */}\n\t\t\t\t{/* <BusList\n\t\t\t\t\t\t\t// city={searchInfo.city}\n\t\t\t\t\t\t\tpositionLat={searchInfo.positionLat}\n\t\t\t\t\t\t\tpositionLon={searchInfo.positionLon}\n\t\t\t\t\t\t\tbusRoute={searchInfo.busRoute}\n\t\t\t\t\t\t/> */}\n\t\t\t\t{/* </div> */}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst ScrollTop = (scrollTarget) => {\n\tconst classes = useStyles();\n\tconst { children, window } = scrollTarget;\n\tconst trigger = useScrollTrigger({\n\t\ttarget: window ? window() : undefined,\n\t\tdisableHysteresis: true,\n\t\tthreshold: 100,\n\t});\n\t// console.log(\"trigger: \", trigger);\n\tconst handleClick = (e) => {\n\t\tconst anchor = (e.target.ownerDocument || document).querySelector(\"#back-to-top-anchor\");\n\t\tif (anchor) {\n\t\t\tanchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n\t\t}\n\t};\n\treturn (\n\t\t<Zoom in={!trigger}>\n\t\t\t<div onClick={handleClick} role=\"presentation\" className={classes.backToTopRoot}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</Zoom>\n\t);\n};\nScrollTop.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\twindow: PropTypes.func,\n};\n\nconst CustomTrainIcon = (props) => {\n\tconst { color, ...other } = props;\n\tconst classes = useStyles(props);\n\treturn <Train className={classes.trainIcon} {...other} />;\n};\n\nconst useStyles = makeStyles((theme) => ({\n\thome: {\n\t\ttextAlign: \"center\",\n\t\tbackgroundColor: \"#dadbd3\",\n\t\theight: \"100vh\",\n\t\toverflowY: \"scroll\",\n\t\tflexGrow: 1,\n\t\t\"& h3\": {\n\t\t\tmarginTop: \"50px\",\n\t\t},\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2),\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t},\n\tappBar: {\n\t\tmarginBottom: \"40px\",\n\t},\n\tprogressRoot: {\n\t\tmarginTop: \"90px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tprogressWrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: \"relative\",\n\t},\n\tfabProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: \"primary\",\n\t},\n\ttrainInput: {\n\t\tborderRadius: 15,\n\t\tpadding: 10,\n\t\tmarginRight: 5,\n\t\t\"&:focus\": {\n\t\t\toutline: \"none\",\n\t\t},\n\t},\n\ttableRoot: {\n\t\tbackgroundColor: \"#A9A9A9\",\n\t\tmarginTop: \"35px\",\n\t\tborderRadius: 15,\n\t\tpadding: \"25px 35px\",\n\t},\n\ttableHeadCell: {\n\t\tfontSize: \"16px\",\n\t\tpadding: \"20px 20px\",\n\t\tfontFamily: [\"Saira Condensed\", \"sans-serif\"],\n\t},\n\ttableCell: {\n\t\tbackgroundColor: \"#fff\",\n\t\tpadding: \"20px 30px\",\n\t\tfontSize: \"18px\",\n\t\tfontFamily: [\"Saira Condensed\", \"sans-serif\"],\n\t},\n\ttextDiv: {\n\t\tdisplay: \"flex\",\n\t\tjustifyItems: \"center\",\n\t},\n\ttrainIcon: {\n\t\tcolor: (props) => {\n\t\t\tswitch (props.color) {\n\t\t\t\tcase \"1\":\n\t\t\t\t\treturn \"#ff5000\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"2\":\n\t\t\t\t\treturn \"#d00216\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"3\":\n\t\t\t\t\treturn \"#ff8708\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"4\":\n\t\t\t\t\treturn \"#ffd200\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"5\":\n\t\t\t\t\treturn \"#00ace8\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"6\":\n\t\t\t\t\treturn \"#0072B5\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"7\":\n\t\t\t\t\treturn \"#a9a9a9\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"10\":\n\t\t\t\t\treturn \"#00bfff\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn console.log(\"SwitchColor Identify Error\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tmarginRight: 10,\n\t},\n\tbackToTopRoot: {\n\t\tposition: \"fixed\",\n\t\tbottom: theme.spacing(3),\n\t\tright: theme.spacing(3),\n\t},\n}));","import React from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport Toolbar from \"@material-ui/core/Toolbar\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\nimport Fab from \"@material-ui/core/Fab\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nconst useStyles = makeStyles((theme) => ({\n\tbackToTopRoot: {\n\t\tposition: \"fixed\",\n\t\tbottom: theme.spacing(2),\n\t\tright: theme.spacing(2),\n\t},\n}));\n\nfunction ScrollTop(props) {\n\tconst { children, window } = props;\n\tconst classes = useStyles();\n\tconst trigger = useScrollTrigger({\n\t\ttarget: window ? window() : undefined,\n\t\tdisableHysteresis: true,\n\t\tthreshold: 100,\n\t});\n\tconsole.log(\"trigger: \", trigger);\n\tconst handleClick = (event) => {\n\t\tconst anchor = (event.target.ownerDocument || document).querySelector(\"#back-to-top-anchor\");\n\t\tif (anchor) {\n\t\t\tanchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Zoom in={trigger}>\n\t\t\t<div onClick={handleClick} role=\"presentation\" className={classes.backToTopRoot}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</Zoom>\n\t);\n}\n\nScrollTop.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\twindow: PropTypes.func,\n};\n\nexport default function BackToTop(props) {\n\tconst [showResults, setShowResults] = React.useState(false);\n\tconst ontClick = () => setShowResults(true);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div id=\"back-to-top-anchor\" />\n\t\t\t<input type=\"submit\" value=\"Search\" onClick={ontClick} />\n\t\t\t{showResults ? <Results /> : null}\n\t\t\t<ScrollTop {...props}>\n\t\t\t\t<Fab color=\"primary\" size=\"large\" aria-label=\"scroll back to top\">\n\t\t\t\t\t<KeyboardArrowUpIcon />\n\t\t\t\t</Fab>\n\t\t\t</ScrollTop>\n\t\t</React.Fragment>\n\t);\n}\n\nconst Results = () => (\n\t<div id=\"results\" className=\"search-results\">\n\t\t<p>\n\t\t\t{[...new Array(60)]\n\t\t\t\t.map(\n\t\t\t\t\t() => `Cras mattis consectetur purus sit amet fermentum.\nCras justo odio, dapibus ac facilisis in, egestas eget quam.\nMorbi leo risus, porta ac consectetur ac, vestibulum at eros.\nPraesent commodo cursus magna, vel scelerisque nisl consectetur et.`\n\t\t\t\t)\n\t\t\t\t.join(\"\\n\")}\n\t\t</p>\n\t</div>\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Home from \"./page/Home/Home.js\";\nimport \"./index.css\";\nimport BackToTop from \"./BackToTop.js\";\n// import Bus from \"./page/Taichung/Bus.js\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Home />\n\t\t{/* <BackToTop /> */}\n\t\t{/* <Bus /> */}\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}